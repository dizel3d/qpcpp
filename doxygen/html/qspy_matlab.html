<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>QP/C++: QSPY MATLAB Inteface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">QP/C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">QP/C++ Reference Manual</a>      </li>
      <li class="navelem"><a class="el" href="qspy_page.html">QSPY Host Application Reference Manual</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>QSPY MATLAB Inteface </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>The QSPY host application can also export trace data to MATLAB&reg;, which is a popular numerical computing environment and a high-level technical programming language. Created by The MathWorks, Inc., MATLAB allows easy manipulation and plotting of data represented as matrices.</p>
<p>The following sections provide a reference manual for all 11 the MATLAB matrices generated by the <code>qspy.m</code> script. By MATLAB convention, the different variables are put into columns, allowing observations to vary down through the rows. Therefore, a data set consisting of twenty four time samples of six variables is stored in a matrix of size 24-by-6. The pound sign '#' in a given cell of the matrix represents data available from the target. Other values, represent data added by the <code>qspy.m</code> script to allow unambiguous identification of the trace records.</p>
<ul>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_STATE">Q_STATE Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_ACTIVE">Q_ACTIVE Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_EQUEUE">Q_EQUEUE Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_MPOOL">Q_MPOOL Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_NEW">Q_NEW Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_PUB">Q_PUB Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_TIME">Q_TIME Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_INT">Q_INT Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_ISR">Q_ISR Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_MUTEX">Q_MUTEX Matrix</a></li>
<li><a class="el" href="qspy_matlab.html#MATLAB_Q_SCHED">Q_SCHED Matrix</a></li>
</ul>
<h2><a class="anchor" id="MATLAB_Q_STATE"></a>
Q_STATE Matrix</h2>
<p>The N-by-6 <code>Q_STATE</code> matrix stores all <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records generated by the <a class="el" href="class_q_e_p.html" title="Provides miscellaneous QEP services.">QEP</a> hierarchical event processor and pertaining to all the state machines in the system. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_STATE Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><b>3</b> </td><td><b>4</b> </td><td><b>5</b> </td><td><p class="starttd"><b>6</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Signal</b> </td><td><b>State<br/>
 Machine<br/>
 Object</b> </td><td><b>Source<br/>
 State</b> </td><td><b>New<br/>
 State</b> </td><td><p class="starttd"><b>Event<br/>
 Hanlder</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a7c85a4b6d1432ad25b64da55a93aec16" title="a state was entered">QS_QEP_STATE_ENTRY</a></code>  </td><td>NaN </td><td>1 </td><td>#(2) </td><td># </td><td>NaN </td><td><p class="starttd">1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a45fc411ce90440d9b00d956cf895f8cc" title="a state was exited">QS_QEP_STATE_EXIT</a></code>  </td><td>NaN </td><td>2 </td><td>#(2) </td><td># </td><td>NaN </td><td><p class="starttd">1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a18faac5d62d32f0a75dbf8e9c039c9a9" title="an intial transition was taken in a state">QS_QEP_STATE_INIT</a></code>  </td><td>NaN </td><td>3 </td><td># </td><td># </td><td># </td><td><p class="starttd">1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a66ac875f67153c0831053be32dc2faa8" title="the top-most initial transition was taken">QS_QEP_INIT_TRAN</a></code>  </td><td># </td><td>3 </td><td>#(2) </td><td>NaN </td><td># </td><td><p class="starttd">1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a70183efaf8b7aee2102ba2593583b40e" title="an internal transition was taken">QS_QEP_INTERN_TRAN</a></code>  </td><td># </td><td>#(1) </td><td>#(2) </td><td># </td><td>NaN </td><td><p class="starttd">1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a8619ea7aad20ff2774d51f97db8e0ec7" title="a regular transition was taken">QS_QEP_TRAN</a></code>  </td><td># </td><td>#(1) </td><td>#(2) </td><td># </td><td># </td><td><p class="starttd">1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5adb7868fd595309968edb6bddcd24e493" title="an event was ignored (silently discarded)">QS_QEP_IGNORED</a></code>  </td><td># </td><td>#(1) </td><td>#(2) </td><td># </td><td>NaN </td><td><p class="starttd">0 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a9bf65aa3061ba23bb1533fb4f2e75dbb" title="an event was dispatched (begin of RTC step)">QS_QEP_DISPATCH</a></code>  </td><td># </td><td>#(1) </td><td>#(2) </td><td># </td><td>NaN </td><td>0  </td></tr>
</table>
<p>(1) The valid USER signal is &gt; 3</p>
<p>(2) Per inheritance, an active object is a state machine object as well</p>
<p>The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_STATE</code> matrix:</p>
<table  summary="Q_STATE records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a7c85a4b6d1432ad25b64da55a93aec16" title="a state was entered">QS_QEP_STATE_ENTRY</a></code>  </td><td><p class="starttd"><code>Q_STATE(:,2) == 1</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a45fc411ce90440d9b00d956cf895f8cc" title="a state was exited">QS_QEP_STATE_EXIT</a></code>  </td><td><p class="starttd"><code>Q_STATE(:,2) == 2</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a18faac5d62d32f0a75dbf8e9c039c9a9" title="an intial transition was taken in a state">QS_QEP_STATE_INIT</a></code>  </td><td><p class="starttd"><code>Q_STATE(:,2) == 3</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a66ac875f67153c0831053be32dc2faa8" title="the top-most initial transition was taken">QS_QEP_INIT_TRAN</a></code>  </td><td><p class="starttd"><code>isnan(Q_STATE(:,4))</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a70183efaf8b7aee2102ba2593583b40e" title="an internal transition was taken">QS_QEP_INTERN_TRAN</a></code>  </td><td><p class="starttd"><code>Q_STATE(:,2) &gt; 3 &amp; isnan(Q_STATE(:,5))</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a8619ea7aad20ff2774d51f97db8e0ec7" title="a regular transition was taken">QS_QEP_TRAN</a></code>  </td><td><p class="starttd"><code>Q_STATE(:,2) &gt; &gt; &amp; ~isnan(Q_STATE(:,5))</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5adb7868fd595309968edb6bddcd24e493" title="an event was ignored (silently discarded)">QS_QEP_IGNORED</a></code>  </td><td><p class="starttd"><code>~Q_STATE(:,6)</code> </p>
<p class="endtd"></p>
</td></tr>
</table>
<p>For example, the following MATLAB plot shows the timing diagrams for all Philo state machines in the DPP example application made by the <code>philo_timing.m</code> script located in the directory <code>\tools\qspy\matlab\</code> (see Section <a class="el" href="files_page.html">Directories and Files in the QP/C++ Distribution</a>). The vertical axis represents states "thinking" (lowest), "hungry" (middle) and "eating" (top) states.</p>
<div align="center">
<img src="FigQSPY.01.jpg" alt="FigQSPY.01.jpg"/>
<p><strong>Timing diagrams for all Philo state machines.</strong></p></div>
 <h2><a class="anchor" id="MATLAB_Q_ACTIVE"></a>
Q_ACTIVE Matrix</h2>
<p>The N-by-5 <code>Q_ACTIVE</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to adding/removing active objects and subscribing/unsubscribing to events from active objects. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_ACTIVE Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><b>3</b> </td><td><b>4</b> </td><td><p class="starttd"><b>5</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Signal</b> </td><td><b>Active<br/>
 Object</b> </td><td><b><a class="el" href="class_q_f.html" title="QF services.">QF</a><br/>
 Priority</b> </td><td><p class="starttd"><b>Delta</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a0afae533d8f0b877d4e67522a7b08415" title="an AO has been added to QF (started)">QS_QF_ACTIVE_ADD</a></code>  </td><td># </td><td>NaN </td><td># </td><td># </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a8970d8f87a052c649802671dc649e169" title="an AO has been removed from QF (stopped)">QS_QF_ACTIVE_REMOVE</a></code>  </td><td># </td><td>NaN </td><td># </td><td># </td><td><p class="starttd">-1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5afd565fd9560c5f1980bbfafba5757d3b" title="an AO subscribed to an event">QS_QF_ACTIVE_SUBSCRIBE</a></code>  </td><td># </td><td># </td><td># </td><td>NaN </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a9aef204a3cc92ef7358464936c25132d" title="an AO unsubscribed to an event">QS_QF_ACTIVE_UNSUBSCRIBE</a></code>  </td><td># </td><td># </td><td># </td><td>NaN </td><td>-1  </td></tr>
</table>
<p>The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_ACTIVE</code> matrix:</p>
<table  summary="Q_ACTIVE records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a0afae533d8f0b877d4e67522a7b08415" title="an AO has been added to QF (started)">QS_QF_ACTIVE_ADD</a></code>  </td><td><p class="starttd"><code>isnan(Q_ACTIVE(:,2)) &amp; Q_ACTIVE(:,5) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a8970d8f87a052c649802671dc649e169" title="an AO has been removed from QF (stopped)">QS_QF_ACTIVE_REMOVE</a></code>  </td><td><p class="starttd"><code>isnan(Q_ACTIVE(:,2)) &amp; Q_ACTIVE(:,5) &lt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5afd565fd9560c5f1980bbfafba5757d3b" title="an AO subscribed to an event">QS_QF_ACTIVE_SUBSCRIBE</a></code>  </td><td><p class="starttd"><code>isnan(Q_ACTIVE(:,4)) &amp; Q_ACTIVE(:,5) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a9aef204a3cc92ef7358464936c25132d" title="an AO unsubscribed to an event">QS_QF_ACTIVE_UNSUBSCRIBE</a></code>  </td><td><code>isnan(Q_ACTIVE(:,4)) &amp; Q_ACTIVE(:,5) &lt; 0</code>  </td></tr>
</table>
<h2><a class="anchor" id="MATLAB_Q_EQUEUE"></a>
Q_EQUEUE Matrix</h2>
<p>The N-by-9 <code>Q_EQUEUE</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to queuing events in the <a class="el" href="class_q_f.html" title="QF services.">QF</a>. Both the active object event queues and the "raw" thread-safe queues are included. The 'nUsed' field denotes the current number of used entries in the queue. The 'Maximum nUsed' filed denotes the maximum number of used entries since initialization (high watermark). Both fields contain the number of used entries in the queues ring-buffer plus one, to account for the extra location at the front of the queue. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_EQUEUE Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><b>3</b> </td><td><b>4</b> </td><td><b>5</b> </td><td><b>6</b> </td><td><b>7</b> </td><td><b>8</b> </td><td><p class="starttd"><b>9</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Event<br/>
 Queue (1)</b> </td><td><b>nFree</b> </td><td><b>Minimum<br/>
 Used</b> </td><td><b>Signal</b> </td><td><b>Pool ID</b> </td><td><b>Ref.<br/>
 Count</b> </td><td><b>LIFO</b> </td><td><p class="starttd"><b>Delta</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a78e649b187abcee9371a168af9a2947e" title="an event queue was initialized">QS_QF_EQUEUE_INIT</a></code>  </td><td>NaN </td><td># </td><td>NaN </td><td>0 </td><td>NaN </td><td>NaN </td><td>NaN </td><td>0 </td><td><p class="starttd">0 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5ab548af724db192d026d160a1b8da0379" title="an event was posted (FIFO) directly to an AO">QS_QF_ACTIVE_POST_FIFO</a></code>  </td><td># </td><td># </td><td># </td><td># </td><td># </td><td># </td><td># </td><td>0 </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a43cd4d7b4166bf8d650e8758a1730ab8" title="an event was posted (LIFO) directly to an AO">QS_QF_ACTIVE_POST_LIFO</a></code>  </td><td># </td><td># </td><td># </td><td># </td><td># </td><td># </td><td># </td><td>1 </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a521f7cfd0bd622271933618986050803" title="an AO got an event and its queue is still not empty">QS_QF_ACTIVE_GET</a></code>  </td><td># </td><td># </td><td># </td><td>NaN </td><td># </td><td># </td><td># </td><td>0 </td><td><p class="starttd">-1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5ae3d86ae6b74e255aa2460a2b7810479e" title="an AO got an event and its queue is empty">QS_QF_ACTIVE_GET_LAST</a></code>  </td><td># </td><td># </td><td>NaN </td><td>NaN </td><td># </td><td># </td><td># </td><td>0 </td><td><p class="starttd">-1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a4656c0da4fc915cb80950ffc6e3536f6" title="an event was posted (FIFO) to a raw queue">QS_QF_EQUEUE_POST_FIFO</a></code>  </td><td># </td><td># </td><td># </td><td># </td><td># </td><td>1 </td><td># </td><td>0 </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a79581157be624acd8e235d38bf982fe6" title="an event was posted (LIFO) to a raw queue">QS_QF_EQUEUE_POST_LIFO</a></code>  </td><td># </td><td># </td><td># </td><td># </td><td># </td><td># </td><td># </td><td>1 </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a884ddf0de4a65ff5e449f202a60bc134" title="get an event and queue still not empty">QS_QF_EQUEUE_GET</a></code>  </td><td># </td><td># </td><td># </td><td># </td><td># </td><td># </td><td># </td><td>0 </td><td><p class="starttd">-1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a14afb7d966626dfed694d61edffc4cac" title="get the last event from the queue">QS_QF_EQUEUE_GET_LAST</a></code>  </td><td># </td><td># </td><td>NaN </td><td>NaN </td><td># </td><td># </td><td># </td><td>0 </td><td>-1  </td></tr>
</table>
<p>(1) This field (index 2) is actually the pointer to the ring buffer of the queue.</p>
<p>The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_EQUEUE</code> matrix:</p>
<table  summary="Q_EQUEUE records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a78e649b187abcee9371a168af9a2947e" title="an event queue was initialized">QS_QF_EQUEUE_INIT</a></code>  </td><td><p class="starttd"><code>Q_EQUEUE(:,9) == 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5ab548af724db192d026d160a1b8da0379" title="an event was posted (FIFO) directly to an AO">QS_QF_ACTIVE_POST_FIFO</a></code>  </td><td><p class="starttd"><code>Q_EQUEUE(:,2) == &lt;active obj&gt; &amp; ~Q_EQUEUE(:,8) &amp; Q_EQUEUE(:,9) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a43cd4d7b4166bf8d650e8758a1730ab8" title="an event was posted (LIFO) directly to an AO">QS_QF_ACTIVE_POST_LIFO</a></code>  </td><td><p class="starttd"><code>Q_EQUEUE(:,2) == &lt;active obj&gt; &amp; Q_EQUEUE(:,8) &amp; Q_EQUEUE(:,9) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a521f7cfd0bd622271933618986050803" title="an AO got an event and its queue is still not empty">QS_QF_ACTIVE_GET</a></code>  </td><td><p class="starttd"><code>Q_EQUEUE(:,2) == &lt;active obj&gt; &amp; ~isnan(Q_EQUEUE(:,3) &amp; Q_EQUEUE(:,9) &lt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5ae3d86ae6b74e255aa2460a2b7810479e" title="an AO got an event and its queue is empty">QS_QF_ACTIVE_GET_LAST</a></code>  </td><td><p class="starttd"><code>Q_EQUEUE(:,2) == &lt;active obj&gt; &amp; isnan(Q_EQUEUE(:,3) &amp; Q_EQUEUE(:,9) &lt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a4656c0da4fc915cb80950ffc6e3536f6" title="an event was posted (FIFO) to a raw queue">QS_QF_EQUEUE_POST_FIFO</a></code>  </td><td><p class="starttd"><code>Q_EQUEUE(:,2) == &lt;raw queue&gt; &amp; ~Q_EQUEUE(:,8) &amp; Q_EQUEUE(:,9) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a79581157be624acd8e235d38bf982fe6" title="an event was posted (LIFO) to a raw queue">QS_QF_EQUEUE_POST_LIFO</a></code>  </td><td><p class="starttd"><code>Q_EQUEUE(:,2) == &lt;raw queue&gt; &amp; Q_EQUEUE(:,8) &amp; Q_EQUEUE(:,9) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a884ddf0de4a65ff5e449f202a60bc134" title="get an event and queue still not empty">QS_QF_EQUEUE_GET</a></code>  </td><td><p class="starttd"><code>Q_EQUEUE(:,2) == &lt;raw queue&gt; &amp; ~isnan(Q_EQUEUE(:,3) &amp; Q_EQUEUE(:,9) &lt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a14afb7d966626dfed694d61edffc4cac" title="get the last event from the queue">QS_QF_EQUEUE_GET_LAST</a></code>  </td><td><code>Q_EQUEUE(:,2) == &lt;raw queue&gt; &amp; isnan(Q_EQUEUE(:,3) &amp; Q_EQUEUE(:,9) &lt; 0</code>  </td></tr>
</table>
<h2><a class="anchor" id="MATLAB_Q_MPOOL"></a>
Q_MPOOL Matrix</h2>
<p>The N-by-5 <code>Q_MPOOL</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to memory pools in the <a class="el" href="class_q_f.html" title="QF services.">QF</a>. The 'nFree' field denotes the current number of free blocks in the event pool. The 'Minimum nFree' filed denotes the minimal number of free blocks since initialization (low watermark). The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_MPOOL Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><b>3</b> </td><td><b>4</b> </td><td><p class="starttd"><b>5</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Pool<br/>
 Object</b> </td><td><b>nFree</b> </td><td><b>Minimal<br/>
 nFree</b> </td><td><p class="starttd"><b>Delta</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5aafb46037e33af6827140efc7cfa0e87a" title="a memory pool was initialized">QS_QF_MPOOL_INIT</a></code>  </td><td>NaN </td><td># </td><td># </td><td>NaN </td><td><p class="starttd">0 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a61c82b1714be13cb91871eafb9a51dd7" title="a memory block was removed from a memory pool">QS_QF_MPOOL_GET</a></code>  </td><td># </td><td># </td><td># </td><td># </td><td><p class="starttd">-1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a4c82fd83734370b6a4f536e8abb363a5" title="a memory block was returned to a memory pool">QS_QF_MPOOL_PUT</a></code>  </td><td># </td><td># </td><td># </td><td>NaN </td><td>+1  </td></tr>
</table>
<p>The cumulative sum over the 'Delta' column should not have any long-time trends, because this would indicate a leak from the pool. The following picture shows the plot for the test data.</p>
<div align="center">
<img src="FigQSPY.02.jpg" alt="FigQSPY.02.jpg"/>
<p><strong>Plot stairs(Q_MPOOL(:,1), cumsum(Q_MPOOL(:,5)))</strong></p></div>
<p> The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_MPOOL</code> matrix:</p>
<table  summary="Q_MPOOL records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5aafb46037e33af6827140efc7cfa0e87a" title="a memory pool was initialized">QS_QF_MPOOL_INIT</a></code>  </td><td><p class="starttd"><code>Q_MPOOL(:,5) == 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a61c82b1714be13cb91871eafb9a51dd7" title="a memory block was removed from a memory pool">QS_QF_MPOOL_GET</a></code>  </td><td><p class="starttd"><code>Q_MPOOL(:,5) &lt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a4c82fd83734370b6a4f536e8abb363a5" title="a memory block was returned to a memory pool">QS_QF_MPOOL_PUT</a></code>  </td><td><code>Q_MPOOL(:,5) &gt; 0</code>  </td></tr>
</table>
<h2><a class="anchor" id="MATLAB_Q_NEW"></a>
Q_NEW Matrix</h2>
<p>The N-by-6 <code>Q_NEW</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to dynamic event allocation and automatic event recycling (garbage collection) in the <a class="el" href="class_q_f.html" title="QF services.">QF</a>. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_NEW Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><b>3</b> </td><td><b>4</b> </td><td><b>5</b> </td><td><p class="starttd"><b>6</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Signal</b> </td><td><b>PoolID</b> </td><td><b>Ref.<br/>
 Count</b> </td><td><b>Event<br/>
 Size</b> </td><td><p class="starttd"><b>Delta</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5adfe3bc0c4afd40b4e6da539605f8216e" title="new event creation">QS_QF_NEW</a></code>  </td><td># </td><td># </td><td>NaN </td><td>NaN </td><td># </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a4a48aeb5f5cc56c184a29f161d403db4" title="garbage collection attempt">QS_QF_GC_ATTEMPT</a></code>  </td><td># </td><td># </td><td># </td><td># </td><td>NaN </td><td><p class="starttd">0 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a515fdabfa88153e12a3bbdbf5e8a4499" title="garbage collection">QS_QF_GC</a></code>  </td><td># </td><td># </td><td># </td><td>NaN </td><td>NaN </td><td>-1  </td></tr>
</table>
<p>The cumulative sum over the 'Delta' column should not have any long-time trends, because this would indicate event leak. The following picture shows the plot for the test data.</p>
<div align="center">
<img src="FigQSPY.03.jpg" alt="FigQSPY.03.jpg"/>
<p><strong>Plot stairs(Q_NEW(:,1), cumsum(Q_NEW(:,6)))</strong></p></div>
<p> The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_NEW</code> matrix:</p>
<table  summary="Q_NEW records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5adfe3bc0c4afd40b4e6da539605f8216e" title="new event creation">QS_QF_NEW</a></code>  </td><td><p class="starttd"><code>Q_NEW(:,6) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a4a48aeb5f5cc56c184a29f161d403db4" title="garbage collection attempt">QS_QF_GC_ATTEMPT</a></code>  </td><td><p class="starttd"><code>Q_NEW(:,6) == 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a515fdabfa88153e12a3bbdbf5e8a4499" title="garbage collection">QS_QF_GC</a></code>  </td><td><code>Q_NEW(:,6) &lt; 0</code>  </td></tr>
</table>
<h2><a class="anchor" id="MATLAB_Q_PUB"></a>
Q_PUB Matrix</h2>
<p>The N-by-6 <code>Q_PUB</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to publishing events in <a class="el" href="class_q_f.html" title="QF services.">QF</a>. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_PUB Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><b>3</b> </td><td><b>4</b> </td><td><b>5</b> </td><td><p class="starttd"><b>6</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Signal</b> </td><td><b>PoolID</b> </td><td><b>Ref.<br/>
 Count</b> </td><td><b># Events<br/>
 Multicast</b> </td><td><p class="starttd"><b>Delta</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a2cee74edfbadce4bbd3982806b7efb48" title="an event was truly published to some subscribers">QS_QF_PUBLISH</a></code>  </td><td># </td><td># </td><td># </td><td># </td><td># </td><td>#  </td></tr>
</table>
<p>The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_PUB</code> matrix:</p>
<table  summary="Q_PUB records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a2cee74edfbadce4bbd3982806b7efb48" title="an event was truly published to some subscribers">QS_QF_PUBLISH</a></code>  </td><td><code>Q_PUB(:,6) &gt; 0</code>  </td></tr>
</table>
<h2><a class="anchor" id="MATLAB_Q_TIME"></a>
Q_TIME Matrix</h2>
<p>The N-by-7 <code>Q_TIME</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to time events in <a class="el" href="class_q_f.html" title="QF services.">QF</a>. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_TIME Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><b>3</b> </td><td><b>4</b> </td><td><b>5</b> </td><td><b>6</b> </td><td><p class="starttd"><b>7</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b><a class="el" href="class_q_time_evt.html" title="Time Event class.">QTimeEvt</a><br/>
 Object</b> </td><td><b>Signal</b> </td><td><b><a class="el" href="class_q_active.html" title="Base class for derivation of application-level active object classes.">QActive</a><br/>
 Object</b> </td><td><b><a class="el" href="class_q_time_evt.html" title="Time Event class.">QTimeEvt</a><br/>
 Counter</b> </td><td><b><a class="el" href="class_q_time_evt.html" title="Time Event class.">QTimeEvt</a><br/>
 Interval</b> </td><td><p class="starttd"><b><a class="el" href="class_q_time_evt.html" title="Time Event class.">QTimeEvt</a><br/>
 Delta</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a99f61a3910479d3f84cd645c512c29cd" title="QF::tick() was called.">QS_QF_TICK</a></code>  </td><td>NaN </td><td>NaN </td><td>NaN </td><td>NaN </td><td>#(1) </td><td>NaN </td><td><p class="starttd">0 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5ad8eb4a56375cadd56963b580940429bf" title="a time event was armed">QS_QF_TIMEEVT_ARM</a></code>  </td><td># </td><td># </td><td>NaN </td><td># </td><td># </td><td># </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a166206ff01dabb9e8a1f90ebe84c99de" title="true disarming of an armed time event">QS_QF_TIMEEVT_DISARM</a></code>  </td><td># </td><td># </td><td>NaN </td><td># </td><td># </td><td># </td><td><p class="starttd">-1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a08af27f4ec39794b3d9f6c481b15c617" title="a time event expired and was disarmed">QS_QF_TIMEEVT_AUTO_DISARM</a></code>  </td><td>NaN </td><td># </td><td>NaN </td><td># </td><td>NaN </td><td>NaN </td><td><p class="starttd">-1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a6432a10cabc4d6849fbf18dbf9c1b457" title="an attempt to disarmed a disarmed tevent">QS_QF_TIMEEVT_DISARM_ATTEMPT</a></code>  </td><td># </td><td># </td><td>NaN </td><td># </td><td>NaN </td><td>NaN </td><td><p class="starttd">0 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a2346cc6f9d474d64e1a814f1eb3a12c9" title="rearming of a time event">QS_QF_TIMEEVT_REARM</a></code>  </td><td># </td><td># </td><td>NaN </td><td># </td><td># </td><td># </td><td><p class="starttd">#(2) </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a5b533a17a8d64eeee427069e15aefd68" title="a time event posted itself directly to an AO">QS_QF_TIMEEVT_POST</a></code>  </td><td># </td><td># </td><td># </td><td># </td><td>NaN </td><td>NaN </td><td>0  </td></tr>
</table>
<p>(1) For <a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a99f61a3910479d3f84cd645c512c29cd" title="QF::tick() was called.">QS_QF_TICK</a> record this matrix element contains the Tick Counter.</p>
<p>(2) For <a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a2346cc6f9d474d64e1a814f1eb3a12c9" title="rearming of a time event">QS_QF_TIMEEVT_REARM</a> event this matrix element is 0 if the time event was disarmed and rearmed again, and 1 if the time event was only armed.</p>
<p>The cumulative sum over the 'Delta' column indicates the total number of armed time events at any given time. The following picture shows the plot for the test data:</p>
<div align="center">
<img src="FigQSPY.04.jpg" alt="FigQSPY.04.jpg"/>
<p><strong>Plot stairs(Q_TIME(:,1), cumsum(Q_TIME(:,7)))</strong></p></div>
<p> The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_TIME</code> matrix:</p>
<table  summary="Q_TIME records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a99f61a3910479d3f84cd645c512c29cd" title="QF::tick() was called.">QS_QF_TICK</a></code>  </td><td><p class="starttd"><code>isnan(Q_TIME(:,2))</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5ad8eb4a56375cadd56963b580940429bf" title="a time event was armed">QS_QF_TIMEEVT_ARM</a></code>  </td><td><p class="starttd"><code>Q_TIME(:,7) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a166206ff01dabb9e8a1f90ebe84c99de" title="true disarming of an armed time event">QS_QF_TIMEEVT_DISARM</a></code>  </td><td><p class="starttd"><code>~isnan(Q_TIME(:,1)) &amp; Q_TIME(:,7) &lt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a08af27f4ec39794b3d9f6c481b15c617" title="a time event expired and was disarmed">QS_QF_TIMEEVT_AUTO_DISARM</a></code>  </td><td><p class="starttd"><code>isnan(Q_TIME(:,1)) &amp; Q_TIME(:,7) &lt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a6432a10cabc4d6849fbf18dbf9c1b457" title="an attempt to disarmed a disarmed tevent">QS_QF_TIMEEVT_DISARM_ATTEMPT</a></code>  </td><td><p class="starttd"><code>isnan(Q_TIME(:,3)) &amp; isnan(Q_TIME(:,5)) &amp; Q_TIME(:,7) == 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a2346cc6f9d474d64e1a814f1eb3a12c9" title="rearming of a time event">QS_QF_TIMEEVT_REARM</a></code>  </td><td><p class="starttd"><code>isnan(Q_TIME(:,3)) &amp; ~isnan(Q_TIME(:,5))</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a5b533a17a8d64eeee427069e15aefd68" title="a time event posted itself directly to an AO">QS_QF_TIMEEVT_POST</a></code>  </td><td><code>~isnan(Q_TIME(:,3)) &amp; ~isnan(Q_TIME(:,4))</code>  </td></tr>
</table>
<h2><a class="anchor" id="MATLAB_Q_INT"></a>
Q_INT Matrix</h2>
<p>The N-by-3 <code>Q_INT</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to interrupt locking and unlocking. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_INT Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><p class="starttd"><b>3</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Interrupt<br/>
 Nesting</b> </td><td><p class="starttd"><b>Nesting<br/>
 Delta</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a94a10ad5aa5e86577c100116cc5909da" title="interrupts were locked">QS_QF_INT_LOCK</a></code>  </td><td># </td><td># </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a0ec72aa3f7a73ed203318902e2dbb46f" title="interrupts were unlocked">QS_QF_INT_UNLOCK</a></code>  </td><td># </td><td># </td><td>-1  </td></tr>
</table>
<p>The cumulative sum over the 'Delta' column indicates interrupt lock nesting and should closely follow column 2.</p>
<p>The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_INT</code> matrix:</p>
<table  summary="Q_INT records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a94a10ad5aa5e86577c100116cc5909da" title="interrupts were locked">QS_QF_INT_LOCK</a></code>  </td><td><p class="starttd"><code>Q_INT(:,3) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a0ec72aa3f7a73ed203318902e2dbb46f" title="interrupts were unlocked">QS_QF_INT_UNLOCK</a></code>  </td><td><code>Q_INT(:,3) &lt; 0</code>  </td></tr>
</table>
<h2><a class="anchor" id="MATLAB_Q_ISR"></a>
Q_ISR Matrix</h2>
<p>The N-by-4 <code>Q_ISR</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to interrupt entry and exit. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_ISR Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><b>3</b> </td><td><p class="starttd"><b>4</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Interrupt<br/>
 Nesting</b> </td><td><b>ISR<br/>
 Priority</b> </td><td><p class="starttd"><b>Nesting<br/>
 Delta</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a8c47cd5f62e70203f84ef20a7a6913e8" title="an ISR was entered">QS_QF_ISR_ENTRY</a></code>  </td><td># </td><td># </td><td># </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a9943e451d25321cd0084069dda8e34d0" title="an ISR was exited">QS_QF_ISR_EXIT</a></code>  </td><td># </td><td># </td><td># </td><td>-1  </td></tr>
</table>
<p>The cumulative sum over the 'Delta' column indicates interrupt nesting level and should closely follow column 2.</p>
<p>The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_ISR</code> matrix:</p>
<table  summary="Q_ISR records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a8c47cd5f62e70203f84ef20a7a6913e8" title="an ISR was entered">QS_QF_ISR_ENTRY</a></code>  </td><td><p class="starttd"><code>Q_ISR(:,4) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a9943e451d25321cd0084069dda8e34d0" title="an ISR was exited">QS_QF_ISR_EXIT</a></code>  </td><td><code>Q_ISR(:,4) &lt; 0</code>  </td></tr>
</table>
<h2><a class="anchor" id="MATLAB_Q_MUTEX"></a>
Q_MUTEX Matrix</h2>
<p>The N-by-4 <code>Q_MUTEX</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to the priority-ceiling mutex activity in <a class="el" href="class_q_k.html" title="QK services.">QK</a>. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_MUTEX Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><b>3</b> </td><td><p class="starttd"><b>4</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Original<br/>
 Priority</b> </td><td><b>Priority<br/>
 Ceiling</b> </td><td><p class="starttd"><b>Nesting<br/>
 Delta</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a41f5501fa094b70624373bb2d4b4bdde" title="the QK mutex was locked">QS_QK_MUTEX_LOCK</a></code>  </td><td># </td><td># </td><td># </td><td><p class="starttd">+1 </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a493d3f4fbeec8fc44375a6eb0d8ab3e7" title="the QK mutex was unlocked">QS_QK_MUTEX_UNLOCK</a></code>  </td><td># </td><td># </td><td># </td><td>-1  </td></tr>
</table>
<p>The cumulative sum over the 'Delta' column indicates <a class="el" href="class_q_k.html" title="QK services.">QK</a> scheduler lock nesting level.</p>
<div align="center">
<img src="FigQSPY.05.jpg" alt="FigQSPY.05.jpg"/>
<p><strong>Plot stairs(Q_MUTEX(:,1), cumsum(Q_MUTEX(:,4)), 'r') (red)</strong></p></div>
<p> The following criteria (index matrices in MATLAB) unambiguously select the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records from the <code>Q_ISR</code> matrix:</p>
<table  summary="Q_ISR records" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record</b> </td><td><p class="starttd"><b>MATLAB Index Matrix</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a41f5501fa094b70624373bb2d4b4bdde" title="the QK mutex was locked">QS_QK_MUTEX_LOCK</a></code>  </td><td><p class="starttd"><code>Q_MUTEX(:,4) &gt; 0</code> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a493d3f4fbeec8fc44375a6eb0d8ab3e7" title="the QK mutex was unlocked">QS_QK_MUTEX_UNLOCK</a></code>  </td><td><code>Q_MUTEX(:,4) &lt; 0</code>  </td></tr>
</table>
<h2><a class="anchor" id="MATLAB_Q_SCHED"></a>
Q_SCHED Matrix</h2>
<p>The N-by-3 <code>Q_SCHED</code> matrix stores <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records pertaining to scheduling next task in <a class="el" href="class_q_k.html" title="QK services.">QK</a>. The following table summarizes how the <a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> records are stored in the matrix:</p>
<table  summary="Q_MUTEX Matrix" cellspacing="4" cellpadding="1" border="0" align="center">
<tr bgcolor="#c8cedc" align="center">
<td><b>&#160;MATLAB index --&gt;</b> </td><td><b>1</b> </td><td><b>2</b> </td><td><p class="starttd"><b>3</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#f0f0f0" align="center">
<td><b><a class="el" href="class_q_s.html" title="Quantum Spy logging facilities.">QS</a> Record<br/>
 |<br/>
 V</b> </td><td><b>Time<br/>
 Stamp</b> </td><td><b>Preempted<br/>
 Priority</b> </td><td><p class="starttd"><b>New<br/>
 Priority</b> </p>
<p class="endtd"></p>
</td></tr>
<tr bgcolor="#c0c0c0" align="center">
<td><code><a class="el" href="qs_8h.html#acdb495c1e5524b5d95aaff82c47f6db5a4d5a52683746286e96f8b87cd8a40026" title="the QK scheduler scheduled a new task to execute">QS_QK_SCHEDULE</a></code>  </td><td># </td><td># </td><td>#  </td></tr>
</table>
<div align="center">
<img src="logo_ql_TM.jpg" alt="logo_ql_TM.jpg"/>
</div>
<p> Copyright &copy; 2002-2008 Quantum Leaps, LLC. All Rights Reserved.<br/>
 <a href="http://www.quantum-leaps.com">http://www.quantum-leaps.com</a> </p>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jan 7 2011 21:37:31 for QP/C++ by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
